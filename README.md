# water_competition
Code and data for "Small rainfall changes drive substantial changes in plant coexistence"

Scripts:

• germination.R - This script gets average germination rates for each species

• nls_orig_data.R – this script uses the non-linear least squares method to fit the annual plant model with the original collected data (germination rate, treatment, competitor number, and seed production data) and then calculates stabilizing niche and fitness differences for each pair under each treatment

• nls_boots_all_model.R – this script fits the annual plant model on 1000 bootstraps of the data and then calculates stabilizing niche and fitness differences for each of those 1000 fits

• lambda_plants.R – tests differences in seed production between treatments in plots with zero competitors.

• n_alpha_ratios.R – script for the invasion growth rate analysis

• soil_gwc.R – tests for differences in gravimetric water content between treatments at three time points during the growing season

• pca_traits.R – this script creates a pca of functional traits from 23 species in the community (figure ED2). It then uses pca axes to compare trait differences with changes in stabilizing niche and fitness differences.

• final_figures.R – figures and tables for the manuscript and extra data (does not include tables from structural analysis)

structural – folder with scripts from structural multispecies coexistence analysis.

  o toolbox_coexistence.R – code obtained from Dr. Chris Johnson via Saavedra et al. 2017 which makes functions for finding structural analogs of stabilizing niche and fitness differences

  o structural_analysis.R – takes the estimated competition parameters from nls_boots_all_model.R and does the structural analysis for each pair, triplet, quadruplet, quintuplet, and sextuplet.

  o structural_table.R – makes the structural analysis tables that are in the Extra Data section


Data:

• drought_seed_production_data.csv – fecundity and number of competitors

• germination_all.csv – germination count data

• s_g_data.csv – average germination and seed survival rates

• soil_gwc.csv – soil gravimetric water measurements

• traits_gk.csv – functional trait measurements for community

• trait_list.csv – list of traits for table ED4

• 2019_rainfall.csv – rainfall for the treatments


Output and Figures are generated by the above scripts and data
